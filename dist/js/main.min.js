"use strict";function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _step,nav=document.querySelector(".header__nav"),navButton=document.querySelector(".header__nav-button"),navSpan=navButton.querySelector("span"),background=document.createElement("div"),_iterator=_createForOfIteratorHelper(nav.querySelectorAll("li"));try{for(_iterator.s();!(_step=_iterator.n()).done;){var listItem=_step.value;listItem.onmouseup=function(e){return e.target.blur()}}}catch(e){_iterator.e(e)}finally{_iterator.f()}navButton.addEventListener("click",(function(e){e.target.closest("button")&&(nav.querySelector(".background")||(document.body.append(background),background.classList.add("background")),nav.classList.toggle("open"),navSpan.classList.toggle("open"),background.classList.toggle("open"),nav.classList.contains("open")?navButton.setAttribute("aria-expanded","true"):navButton.removeAttribute("aria-expanded"))}));var slideDistance,maxSlideDistance,countSlideImages,_step2,galleryImages=document.querySelector(".main__add-gallery"),prevGalleryButton=galleryImages.querySelector(".arrow-prev"),nextGalleryButton=galleryImages.querySelector(".arrow-next"),listOfImages=galleryImages.querySelector(".main__slide-container"),currentSlide=0,_iterator2=_createForOfIteratorHelper(galleryImages.querySelectorAll(".main__slide-arrow"));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _button=_step2.value;_button.onmouseup=function(e){return e.target.blur()}}}catch(e){_iterator2.e(e)}finally{_iterator2.f()}function gallerySlideNext(){countSlideImages=document.documentElement.clientWidth>650?2:3,slideDistance=galleryImages.querySelector("img").offsetWidth,currentSlide+slideDistance<=(maxSlideDistance=slideDistance*countSlideImages)&&(listOfImages.style.transform="translate(-".concat(currentSlide+slideDistance,"px)"),currentSlide+=slideDistance)}function gallerySlidePrev(){countSlideImages=document.documentElement.clientWidth>650?2:3,slideDistance=galleryImages.querySelector("img").offsetWidth,maxSlideDistance=slideDistance*countSlideImages,currentSlide-slideDistance>=0&&(listOfImages.style.transform="translate(-".concat(currentSlide-slideDistance,"px)"),currentSlide-=slideDistance)}nextGalleryButton.addEventListener("click",gallerySlideNext),prevGalleryButton.addEventListener("click",gallerySlidePrev);var _step3,entireImgSection=document.querySelector(".main__section--images"),thumbSection=document.querySelector(".main__thumbnails"),allImages=entireImgSection.querySelectorAll("img"),_iterator3=_createForOfIteratorHelper(allImages);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var img=_step3.value;document.documentElement.clientWidth>=1150&&(img.tabIndex=0)}}catch(e){_iterator3.e(e)}finally{_iterator3.f()}allImages[1].focus();var bigPicture=document.querySelector("[data-current-big]");function onThumbClick(e){var t=e.target.closest("img");if(t){var n=t.closest("picture");changeImages(t.closest("section"),n)}}function onThumbFocus(e){var t=e.target.closest("img");t&&t.addEventListener("keydown",(function(e){"Enter"!=e.code&&"Space"!=e.code||changeImages(t.closest("picture"))}))}function lightboxHandler(e){if(!(document.documentElement.clientWidth<1150)&&e.target.closest("img")){var t=entireImgSection.cloneNode(!0),n=document.createElement("div"),r=document.createElement("span"),a=document.createElement("button"),i=document.createElement("button"),c=t.querySelector("[data-current-big]"),o=Array.from(t.querySelectorAll(".main__image--thumb")),u=o.map((function(e){return e.getAttribute("src").replace(/-thumbnail/,"")})),l=u.map((function(e){return e.replace(/jpg$/,"webp")})),s=0;if(!document.querySelector(".lightbox-section")){t.classList.add("lightbox-section","container-main"),document.querySelector(".main").append(t),n.classList.add("lightbox-background"),document.querySelector(".main").append(n),r.className="lightbox-section__close",a.className="lightbox-section__next",a.innerHTML="&#10095;",i.className="lightbox-section__prev",i.innerHTML="&#10094;";for(var d=0,m=[r,a,i];d<m.length;d++){var y=m[d];t.append(y),y.tabIndex=0,y.onmouseup=function(e){return e.target.blur()}}}n.classList.add("open"),t.classList.add("open"),t.addEventListener("click",(function(e){var n=e.target.closest("img");if(!n||!t.contains(n))return;var r=n.getAttribute("src").replace(/-thumbnail/,"");s=u.indexOf(r),f()})),t.addEventListener("focusin",(function(e){var n=e.target.closest("img");if(!n||!t.contains(n))return;n.onkeydown=function(e){if("Enter"==e.code||"Space"==e.code){e.preventDefault();var t=n.getAttribute("src").replace(/-thumbnail/,"");s=u.indexOf(t),f()}}})),r.addEventListener("click",(function(){t.remove(),n.remove()})),a.addEventListener("click",(function(){if(s===u.length-1)return;s++,o[s].focus(),f()})),i.addEventListener("click",(function(){if(0===s)return;s--,o[s].focus(),f()})),o[0].focus()}function f(){c.querySelector("img").setAttribute("src",u[s]),c.querySelector("source").setAttribute("srcset",l[s])}}function changeImages(e,t){var n=t.querySelector("img").getAttribute("src").replace(/-thumbnail/,""),r=t.querySelector("source").getAttribute("srcset").replace(/-thumbnail/,""),a=e.querySelector("[data-current-big]");a.querySelector("img").setAttribute("src",n),a.querySelector("source").setAttribute("srcset",r)}thumbSection.addEventListener("click",onThumbClick),thumbSection.addEventListener("focusin",onThumbFocus),bigPicture.addEventListener("click",lightboxHandler);var insertSpan,counter=document.querySelector(".main__counter"),minusButton=counter.firstElementChild,plusButton=counter.lastElementChild,quantity=counter.querySelector('input[type="number"]'),quantityValue=Number(quantity.value),cta=document.querySelector(".main__cta"),cart=document.querySelector(".header__cart"),cartInfo=document.querySelector(".cart-info"),cartEmpty=cartInfo.querySelector(".cart-info__init"),cartMain=cartInfo.querySelector(".cart-info__wrapper"),deleteButton=cartInfo.querySelector(".cart-info__button"),notification=null;counter.addEventListener("click",changeQuantityClick),counter.addEventListener("focusin",changeQuantityFocus),cta.addEventListener("click",ctaClick),cart.addEventListener("click",cartClick),deleteButton.addEventListener("click",deleteProducts),quantity.addEventListener("change",quantityChange);for(var _i2=0,_arr=[document.querySelector(".cart-info__checkout"),cta];_i2<_arr.length;_i2++){var button=_arr[_i2];button.onmouseup=function(e){return e.target.blur()}}function changeQuantityClick(e){var t=e.target.closest("button");if(t&&counter.contains(t))if(t==plusButton)quantityValue+=1,quantity.value=quantityValue;else{if(!(quantityValue>0))return;quantityValue--,quantity.value=quantityValue}}function changeQuantityFocus(e){var t=e.target.closest("button");t&&counter.contains(t)&&t.addEventListener("keydown",(function(e){if("Space"!=e.key)return;if(t==plusButton)quantityValue++,quantity.value=quantityValue;else{if(!(quantityValue>0))return;quantityValue--,quantity.value=quantityValue}}))}function quantityChange(){quantityValue=Number(quantity.value),quantity.value=quantityValue}function ctaClick(e){if(e.target.closest("button")){var t=cartInfo.querySelector(".cart-info__container").lastElementChild;0==quantityValue&&(quantityValue++,quantity.value=quantityValue),cart.querySelector(".notification")?notification.innerHTML="".concat(quantityValue):((notification=document.createElement("div")).className="notification",notification.textContent=quantityValue,cart.append(notification)),cartEmpty.hidden=!0,cartEmpty.style.display="none",cartMain.hidden=!1,cartMain.style.display="flex",insertSpan&&(insertSpan.remove(),insertSpan=null),(insertSpan=document.createElement("span")).className="cart-info__price-sum",t.append(insertSpan),insertSpan.innerHTML=" ".concat(quantityValue," = &dollar;").concat(125*quantityValue);var n=document.createElement("span");n.classList.add("buying-signal"),document.body.append(n),console.log(n)}}function cartClick(){"visible"===cartInfo.style.visibility?(cartInfo.style.visibility="hidden",cart.removeAttribute("aria-expanded")):(cartInfo.style.visibility="visible",cart.setAttribute("aria-expanded","true"))}function deleteProducts(){cartMain.hidden=!0,cartMain.style.display="none",cartEmpty.hidden=!1,cartEmpty.style.display="flex",notification.remove(),notification=null}
//# sourceMappingURL=main.min.js.map
