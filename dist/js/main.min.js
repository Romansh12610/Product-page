"use strict";function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){o=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nav=document.querySelector(".header__nav"),navButton=document.querySelector(".header__nav-button"),navSpan=navButton.querySelector("span"),background=document.createElement("div");navButton.addEventListener("click",(function(t){t.target.closest("button")&&(nav.querySelector(".background")||(document.body.append(background),background.classList.add("background")),nav.classList.toggle("open"),navSpan.classList.toggle("open"),background.classList.toggle("open"))}));var _step,entireImgSection=document.querySelector(".main__section--images"),thumbSection=document.querySelector(".main__thumbnails"),allImages=entireImgSection.querySelectorAll("img"),_iterator=_createForOfIteratorHelper(allImages);try{for(_iterator.s();!(_step=_iterator.n()).done;){var img=_step.value;img.tabIndex=0}}catch(t){_iterator.e(t)}finally{_iterator.f()}allImages[1].focus();var bigPicture=document.querySelector("[data-current-big]");function onThumbClick(t){var e=t.target.closest("img");if(e){var n=e.closest("picture");changeImages(e.closest("section"),n)}}function onThumbFocus(t){var e=t.target.closest("img");e&&e.addEventListener("keydown",(function(t){"Enter"!=t.code&&"Space"!=t.code||changeImages(e.closest("picture"))}))}function lightboxHandler(t){if(!(document.documentElement.clientWidth<1150)&&t.target.closest("img")){var e=entireImgSection.cloneNode(!0),n=document.createElement("div"),r=document.createElement("span"),a=document.createElement("button"),i=document.createElement("button"),c=e.querySelector("[data-current-big]"),o=Array.from(e.querySelectorAll(".main__image--thumb")),u=o.map((function(t){return t.getAttribute("src").replace(/-thumbnail/,"")})),l=u.map((function(t){return t.replace(/jpg$/,"webp")})),s=0;if(!document.querySelector(".lightbox-section")){e.classList.add("lightbox-section","container-main"),document.querySelector(".main").append(e),n.classList.add("lightbox-background"),document.querySelector(".main").append(n),r.className="lightbox-section__close",a.className="lightbox-section__next",a.innerHTML="&#10095;",i.className="lightbox-section__prev",i.innerHTML="&#10094;";for(var d=0,m=[r,a,i];d<m.length;d++){var y=m[d];e.append(y),y.tabIndex=0,y.onmouseup=function(t){return t.target.blur()}}}n.classList.add("open"),e.classList.add("open"),e.addEventListener("click",(function(t){var n=t.target.closest("img");if(!n||!e.contains(n))return;var r=n.getAttribute("src").replace(/-thumbnail/,"");s=u.indexOf(r),f()})),e.addEventListener("focusin",(function(t){var n=t.target.closest("img");if(!n||!e.contains(n))return;n.onkeydown=function(t){if("Enter"==t.code||"Space"==t.code){t.preventDefault();var e=n.getAttribute("src").replace(/-thumbnail/,"");s=u.indexOf(e),f()}}})),r.addEventListener("click",(function(){e.remove(),n.remove()})),a.addEventListener("click",(function(){if(s===u.length-1)return;s++,o[s].focus(),f()})),i.addEventListener("click",(function(){if(0===s)return;s--,o[s].focus(),f()})),o[0].focus()}function f(){c.querySelector("img").setAttribute("src",u[s]),c.querySelector("source").setAttribute("srcset",l[s])}}function changeImages(t,e){var n=e.querySelector("img").getAttribute("src").replace(/-thumbnail/,""),r=e.querySelector("source").getAttribute("srcset").replace(/-thumbnail/,""),a=t.querySelector("[data-current-big]");a.querySelector("img").setAttribute("src",n),a.querySelector("source").setAttribute("srcset",r)}thumbSection.addEventListener("click",onThumbClick),thumbSection.addEventListener("focusin",onThumbFocus),bigPicture.addEventListener("click",lightboxHandler);var insertSpan,counter=document.querySelector(".main__counter"),minusButton=counter.firstElementChild,plusButton=counter.lastElementChild,quantity=counter.querySelector('input[type="number"]'),quantityValue=Number(quantity.value),cta=document.querySelector(".main__cta"),cart=document.querySelector(".header__cart"),cartInfo=document.querySelector(".cart-info"),cartEmpty=cartInfo.querySelector(".cart-info__init"),cartMain=cartInfo.querySelector(".cart-info__wrapper"),deleteButton=cartInfo.querySelector(".cart-info__button"),notification=null;counter.addEventListener("click",changeQuantityClick),counter.addEventListener("focusin",changeQuantityFocus),cta.addEventListener("click",ctaClick),cart.addEventListener("click",cartClick),deleteButton.addEventListener("click",deleteProducts);for(var _i2=0,_arr=[document.querySelector(".cart-info__checkout"),cta];_i2<_arr.length;_i2++){var button=_arr[_i2];button.onmouseup=function(t){return t.target.blur()}}function changeQuantityClick(t){var e=t.target.closest("button");if(e&&counter.contains(e))if(e==plusButton)quantityValue+=1,quantity.value=quantityValue;else{if(!(quantityValue>0))return;quantityValue--,quantity.value=quantityValue}}function changeQuantityFocus(t){var e=t.target.closest("button");e&&counter.contains(e)&&e.addEventListener("keydown",(function(t){if("Space"!=t.key)return;if(e==plusButton)quantityValue++,quantity.value=quantityValue;else{if(!(quantityValue>0))return;quantityValue--,quantity.value=quantityValue}}))}function ctaClick(t){if(t.target.closest("button")){var e=cartInfo.querySelector(".cart-info__container").lastElementChild;0==quantityValue&&(quantityValue++,quantity.value=quantityValue),cart.querySelector(".notification")?notification.innerHTML="".concat(quantityValue):((notification=document.createElement("div")).className="notification",notification.textContent=quantityValue,cart.append(notification)),cartEmpty.hidden=!0,cartEmpty.style.display="none",cartMain.hidden=!1,cartMain.style.display="flex",insertSpan&&(insertSpan.remove(),insertSpan=null),(insertSpan=document.createElement("span")).className="cart-info__price-sum",e.append(insertSpan),insertSpan.innerHTML=" ".concat(quantityValue," = &dollar;").concat(125*quantityValue)}}function cartClick(){"visible"===cartInfo.style.visibility?(cartInfo.style.visibility="hidden",cart.removeAttribute("aria-expanded")):(cartInfo.style.visibility="visible",cart.setAttribute("aria-expanded","true"))}function deleteProducts(){cartMain.hidden=!0,cartMain.style.display="none",cartEmpty.hidden=!1,cartEmpty.style.display="flex",notification.remove(),notification=null}
//# sourceMappingURL=main.min.js.map
