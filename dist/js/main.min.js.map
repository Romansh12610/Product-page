{"version":3,"sources":["main.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","nav","document","querySelector","navButton","navSpan","background","createElement","addEventListener","target","closest","body","append","classList","add","toggle","_step","entireImgSection","thumbSection","allImages","querySelectorAll","_iterator","img","tabIndex","focus","bigPicture","onThumbClick","currentPicture","changeImages","onThumbFocus","code","lightboxHandler","documentElement","clientWidth","lightboxSection","cloneNode","lightboxBackground","closeButton","nextButton","prevButton","bigImage","allThumbs","allImagesSrcs","map","imgNode","getAttribute","replace","allSourcesWebp","src","currentImageInd","className","innerHTML","_i","_buttons","button","onmouseup","blur","contains","targetSrc","indexOf","changeImagesLightbox","onkeydown","preventDefault","remove","setAttribute","section","picture","targetSrcset","currentBigImage","insertSpan","counter","minusButton","firstElementChild","plusButton","lastElementChild","quantity","quantityValue","Number","cta","cart","cartInfo","cartEmpty","cartMain","deleteButton","notification","changeQuantityClick","changeQuantityFocus","ctaClick","cartClick","deleteProducts","_i2","_arr","key","priceText","concat","textContent","hidden","style","display","visibility","removeAttribute"],"mappings":"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","file":"main.min.js","sourcesContent":["// Header\r\nconst nav = document.querySelector('.header__nav');\r\nconst navButton = document.querySelector('.header__nav-button');\r\nconst navSpan = navButton.querySelector('span');\r\nconst background = document.createElement('div');\r\n\r\nnavButton.addEventListener('click', function(e) {\r\n    if (!e.target.closest('button')) return;\r\n    \r\n    if (!nav.querySelector('.background')) {\r\n        document.body.append(background);\r\n        background.classList.add('background');\r\n    };\r\n\r\n    nav.classList.toggle('open');\r\n    navSpan.classList.toggle('open');\r\n    background.classList.toggle('open');\r\n});\r\n\r\n\r\n// Images\r\nconst entireImgSection = document.querySelector('.main__section--images');\r\nconst thumbSection = document.querySelector('.main__thumbnails');\r\n\r\n// all images can be focused\r\nconst allImages = entireImgSection.querySelectorAll('img');\r\nfor (let img of allImages) {\r\n    img.tabIndex = 0;\r\n}\r\n//init focus\r\nallImages[1].focus();\r\n\r\nconst bigPicture = document.querySelector('[data-current-big]');\r\n\r\nthumbSection.addEventListener('click', onThumbClick);\r\nthumbSection.addEventListener('focusin', onThumbFocus);\r\nbigPicture.addEventListener('click', lightboxHandler);\r\n\r\n\r\nfunction onThumbClick(e) {\r\n    let target = e.target.closest('img');\r\n    if (!target) return;\r\n\r\n    const currentPicture = target.closest('picture');\r\n    const currentSection = target.closest('section');\r\n\r\n    changeImages(currentSection, currentPicture);\r\n}\r\n\r\nfunction onThumbFocus(e) {\r\n    let target = e.target.closest('img');\r\n    if (!target) return;\r\n\r\n    target.addEventListener('keydown', function (e) {\r\n        if (e.code == 'Enter' || e.code == 'Space') {\r\n            changeImages(target.closest('picture'));\r\n        } else {\r\n            return;\r\n        }\r\n    })\r\n}\r\n\r\n//Lightbox \r\n\r\nfunction lightboxHandler(e) {\r\n    if (document.documentElement.clientWidth < 1150) return;\r\n\r\n    let target = e.target.closest('img');\r\n    if (!target) return;\r\n\r\n    const lightboxSection = entireImgSection.cloneNode(true);\r\n    const lightboxBackground = document.createElement('div');\r\n    const closeButton = document.createElement('span');\r\n    const nextButton = document.createElement('button');\r\n    const prevButton = document.createElement('button');\r\n    const bigImage = lightboxSection.querySelector('[data-current-big]');\r\n    const allThumbs = Array.from(lightboxSection.querySelectorAll('.main__image--thumb'));\r\n    const allImagesSrcs = allThumbs.map(imgNode => {\r\n        return imgNode.getAttribute('src').replace(/-thumbnail/, '');\r\n    });\r\n    const allSourcesWebp = allImagesSrcs.map(src => {\r\n        return src.replace(/jpg$/, 'webp');\r\n    });\r\n    let currentImageInd = 0;\r\n\r\n    if (!document.querySelector('.lightbox-section')) {\r\n        lightboxSection.classList.add('lightbox-section', 'container-main');\r\n        document.querySelector('.main').append(lightboxSection);\r\n\r\n        lightboxBackground.classList.add('lightbox-background');\r\n        document.querySelector('.main').append(lightboxBackground);\r\n\r\n        //buttons\r\n        closeButton.className = 'lightbox-section__close';\r\n        nextButton.className = 'lightbox-section__next';\r\n        nextButton.innerHTML = '&#10095;';\r\n        prevButton.className = 'lightbox-section__prev';\r\n        prevButton.innerHTML = '&#10094;'\r\n\r\n        const buttons = [closeButton, nextButton, prevButton];\r\n        for (let button of buttons) {\r\n            lightboxSection.append(button);\r\n            button.tabIndex = 0;\r\n            button.onmouseup = (e) => e.target.blur();\r\n        }\r\n    }\r\n\r\n    lightboxBackground.classList.add('open');\r\n    lightboxSection.classList.add('open');\r\n\r\n    //events\r\n    lightboxSection.addEventListener('click', clickThumb);\r\n    lightboxSection.addEventListener('focusin', focusThumb);\r\n    closeButton.addEventListener('click', closeLightbox);\r\n    nextButton.addEventListener('click', slideNextImage);\r\n    prevButton.addEventListener('click', slidePrevImage); \r\n\r\n    //initial focus\r\n    allThumbs[0].focus();\r\n\r\n    //click/focus listeners\r\n    function clickThumb(e) {\r\n        let target = e.target.closest('img');\r\n        if (!target || !lightboxSection.contains(target)) return;\r\n\r\n        let targetSrc = target.getAttribute('src').replace(/-thumbnail/, '');\r\n        currentImageInd = allImagesSrcs.indexOf(targetSrc);\r\n\r\n        changeImagesLightbox();\r\n    }\r\n\r\n    function focusThumb(e) {\r\n        let target = e.target.closest('img');\r\n        if (!target || !lightboxSection.contains(target)) return;\r\n\r\n        target.onkeydown = function (e) {\r\n            if (e.code == 'Enter' || e.code == 'Space') {\r\n                e.preventDefault(); // prevent scroll on 'space'\r\n                let targetSrc = target.getAttribute('src').replace(/-thumbnail/, '');\r\n                currentImageInd = allImagesSrcs.indexOf(targetSrc);\r\n\r\n                changeImagesLightbox();\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //event-listeners for buttons;\r\n    function closeLightbox() {\r\n        lightboxSection.remove();\r\n        lightboxBackground.remove();\r\n    }\r\n\r\n    function slideNextImage() {\r\n        if (currentImageInd === allImagesSrcs.length - 1) return;\r\n\r\n        currentImageInd++;\r\n        allThumbs[currentImageInd].focus();\r\n        changeImagesLightbox();\r\n    }\r\n\r\n    function slidePrevImage() {\r\n        if (currentImageInd === 0) return;\r\n\r\n        currentImageInd--;\r\n        allThumbs[currentImageInd].focus();\r\n        changeImagesLightbox();\r\n    }\r\n\r\n\r\n    //helper functions\r\n    function changeImagesLightbox() {\r\n        bigImage.querySelector('img').setAttribute('src', allImagesSrcs[currentImageInd]);\r\n        bigImage.querySelector('source').setAttribute('srcset', allSourcesWebp[currentImageInd]);\r\n    }\r\n}\r\n\r\n\r\n\r\n//helper functions \r\nfunction changeImages(section, picture) {\r\n    const targetSrc = picture.querySelector('img').getAttribute('src').replace(/-thumbnail/, '');\r\n    const targetSrcset = picture.querySelector('source').getAttribute('srcset').replace(/-thumbnail/, '');\r\n\r\n    const currentBigImage = section.querySelector('[data-current-big]');\r\n\r\n    currentBigImage.querySelector('img').setAttribute('src', targetSrc);\r\n    currentBigImage.querySelector('source').setAttribute('srcset', targetSrcset);\r\n}\r\n\r\n\r\n// Product info\r\n\r\nconst counter = document.querySelector('.main__counter');\r\nconst minusButton = counter.firstElementChild;\r\nconst plusButton = counter.lastElementChild;\r\nconst quantity = counter.querySelector('input[type=\"number\"]');\r\nlet quantityValue = Number(quantity.value);\r\n\r\nconst cta = document.querySelector('.main__cta');\r\nconst cart = document.querySelector('.header__cart');\r\nconst cartInfo = document.querySelector('.cart-info');\r\nconst cartEmpty = cartInfo.querySelector('.cart-info__init');\r\nconst cartMain = cartInfo.querySelector('.cart-info__wrapper');\r\nconst deleteButton = cartInfo.querySelector('.cart-info__button');\r\nlet notification = null;\r\nlet insertSpan;\r\n\r\n\r\ncounter.addEventListener('click', changeQuantityClick);\r\ncounter.addEventListener('focusin', changeQuantityFocus);\r\ncta.addEventListener('click', ctaClick);\r\ncart.addEventListener('click', cartClick);\r\ndeleteButton.addEventListener('click', deleteProducts);\r\n\r\n//get rid of keeping focus after click  \r\nfor (let button of [document.querySelector('.cart-info__checkout'), cta]) {\r\n    button.onmouseup = (e) => e.target.blur();\r\n}\r\n\r\nfunction changeQuantityClick(e) {\r\n    let target = e.target.closest('button');\r\n    if (!target || !counter.contains(target)) return;\r\n\r\n    if (target == plusButton) {\r\n        quantityValue = quantityValue + 1;\r\n        quantity.value = quantityValue;\r\n    }\r\n    else {\r\n        if (quantityValue > 0) {\r\n            quantityValue--;\r\n            quantity.value = quantityValue;\r\n        }\r\n        else return; \r\n    }\r\n}\r\n\r\n\r\nfunction changeQuantityFocus(e) {\r\n    let target = e.target.closest('button');\r\n    if (!target || !counter.contains(target)) return;\r\n\r\n    target.addEventListener('keydown', changeQuantityKey);\r\n\r\n    function changeQuantityKey(e) {\r\n        if (e.key == 'Space') {\r\n            if (target == plusButton) {\r\n                quantityValue++;\r\n                quantity.value = quantityValue;\r\n            }\r\n            else {\r\n                if (quantityValue > 0) {\r\n                    quantityValue--;\r\n                    quantity.value = quantityValue;\r\n                }\r\n                else return; \r\n            }\r\n        } else return;\r\n    }\r\n}\r\n\r\n\r\nfunction ctaClick(e) {\r\n    if (!e.target.closest('button')) return;\r\n\r\n    const priceText = cartInfo.querySelector('.cart-info__container').lastElementChild;\r\n    const price = 125;\r\n\r\n    if (quantityValue == 0) {\r\n        quantityValue++;\r\n        quantity.value = quantityValue;\r\n    }\r\n\r\n    if (!cart.querySelector('.notification')) {\r\n        notification = document.createElement('div');\r\n        notification.className = 'notification';\r\n        notification.textContent = quantityValue;\r\n        cart.append(notification);\r\n    }\r\n    else notification.innerHTML = `${quantityValue}`;\r\n\r\n    cartEmpty.hidden = true;\r\n    cartEmpty.style.display = 'none';\r\n    cartMain.hidden = false;\r\n    cartMain.style.display = 'flex';\r\n\r\n    if (insertSpan) {\r\n        insertSpan.remove();\r\n        insertSpan = null;\r\n    } \r\n\r\n    insertSpan = document.createElement('span');\r\n    insertSpan.className = 'cart-info__price-sum';\r\n    priceText.append(insertSpan);\r\n\r\n    insertSpan.innerHTML = ` ${quantityValue} = &dollar;${price * quantityValue}`;\r\n}\r\n\r\nfunction cartClick() {\r\n    //cart info visibility\r\n    let isVisible = cartInfo.style.visibility === 'visible';\r\n\r\n    if (isVisible) {\r\n        cartInfo.style.visibility = 'hidden';\r\n        cart.removeAttribute('aria-expanded');\r\n    } else {\r\n        cartInfo.style.visibility = 'visible';\r\n        cart.setAttribute('aria-expanded', 'true');\r\n    }\r\n}\r\n\r\n\r\nfunction deleteProducts() {\r\n    cartMain.hidden = true;\r\n    cartMain.style.display = 'none';\r\n    cartEmpty.hidden = false;\r\n    cartEmpty.style.display = 'flex';\r\n\r\n    notification.remove();\r\n    notification = null;\r\n}"]}