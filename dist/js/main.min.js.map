{"version":3,"sources":["main.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","_step","thumbSection","document","querySelector","allImages","querySelectorAll","_iterator","img","tabIndex","bigPicture","onThumbClick","target","closest","changeImages","parentElement","onThumbFocus","addEventListener","code","targetSrc","getAttribute","replace","targetSrcset","setAttribute","insertSpan","counter","minusButton","firstElementChild","plusButton","lastElementChild","quantity","quantityValue","Number","cta","cart","cartInfo","cartEmpty","cartMain","deleteButton","notification","changeQuantityClick","contains","changeQuantityFocus","key","ctaClick","priceText","innerHTML","concat","createElement","className","textContent","append","hidden","style","display","remove","cartClick","console","log","visibility","removeAttribute","deleteProducts"],"mappings":"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","file":"main.min.js","sourcesContent":["// Images\r\nconst thumbSection = document.querySelector('.main__thumbnails');\r\n\r\n// all images can be focused\r\nconst allImages = thumbSection.querySelectorAll('img');\r\nfor (let img of allImages) {\r\n    img.tabIndex = 0;\r\n}\r\n\r\n// change images event\r\nconst bigPicture = document.querySelector('[data-current-big]');\r\n\r\nthumbSection.addEventListener('click', onThumbClick);\r\nthumbSection.addEventListener('focusin', onThumbFocus);\r\n\r\n// click handler\r\nfunction onThumbClick(e) {\r\n    let target = e.target.closest('img');\r\n    if (!target) return;\r\n\r\n    let picture = target.parentElement;\r\n\r\n    changeImages(picture);\r\n}\r\n\r\nfunction onThumbFocus(e) {\r\n    let target = e.target.closest('img');\r\n    if (!target) return;\r\n\r\n    target.addEventListener('keydown', function (e) {\r\n        if (e.code == 'Enter' || e.code == 'Space') {\r\n            changeImages(target.closest('picture'));\r\n        } else {\r\n            return;\r\n        }\r\n    })\r\n}\r\n\r\n//helper functions \r\nfunction changeImages(target) {\r\n    let targetSrc = target.querySelector('img').getAttribute('src').replace(/-thumbnail/, '');\r\n    let targetSrcset = target.querySelector('source').getAttribute('srcset').replace(/-thumbnail/, '');\r\n\r\n    bigPicture.querySelector('img').setAttribute('src', targetSrc);\r\n    bigPicture.querySelector('source').setAttribute('srcset', targetSrcset);\r\n}\r\n\r\n\r\n// Product info\r\n\r\nconst counter = document.querySelector('.main__counter');\r\nconst minusButton = counter.firstElementChild;\r\nconst plusButton = counter.lastElementChild;\r\nconst quantity = counter.querySelector('input[type=\"number\"]');\r\nlet quantityValue = Number(quantity.value);\r\n\r\nconst cta = document.querySelector('.main__cta');\r\nconst cart = document.querySelector('.header__cart');\r\nconst cartInfo = document.querySelector('.cart-info');\r\nconst cartEmpty = cartInfo.querySelector('.cart-info__init');\r\nconst cartMain = cartInfo.querySelector('.cart-info__wrapper');\r\nconst deleteButton = cartInfo.querySelector('.cart-info__button');\r\nlet notification = null;\r\nlet insertSpan;\r\n\r\n\r\ncounter.addEventListener('click', changeQuantityClick);\r\ncounter.addEventListener('focusin', changeQuantityFocus);\r\ncta.addEventListener('click', ctaClick);\r\ncart.addEventListener('click', cartClick);\r\ndeleteButton.addEventListener('click', deleteProducts);\r\n\r\nfunction changeQuantityClick(e) {\r\n    let target = e.target.closest('button');\r\n    if (!target || !counter.contains(target)) return;\r\n\r\n    if (target == plusButton) {\r\n        quantityValue = quantityValue + 1;\r\n        quantity.value = quantityValue;\r\n    }\r\n    else {\r\n        if (quantityValue > 0) {\r\n            quantityValue--;\r\n            quantity.value = quantityValue;\r\n        }\r\n        else return; \r\n    }\r\n}\r\n\r\n\r\nfunction changeQuantityFocus(e) {\r\n    let target = e.target.closest('button');\r\n    if (!target || !counter.contains(target)) return;\r\n\r\n    target.addEventListener('keydown', changeQuantityKey);\r\n\r\n    function changeQuantityKey(e) {\r\n        if (e.key == 'Space') {\r\n            if (target == plusButton) {\r\n                quantityValue++;\r\n                quantity.value = quantityValue;\r\n            }\r\n            else {\r\n                if (quantityValue > 0) {\r\n                    quantityValue--;\r\n                    quantity.value = quantityValue;\r\n                }\r\n                else return; \r\n            }\r\n        } else return;\r\n    }\r\n}\r\n\r\n\r\nfunction ctaClick(e) {\r\n    if (!e.target.closest('button')) return;\r\n\r\n    const priceText = cartInfo.querySelector('.cart-info__container').lastElementChild;\r\n    const price = 125;\r\n\r\n    if (quantityValue == 0) {\r\n        quantityValue++;\r\n        quantity.value = quantityValue;\r\n    }\r\n\r\n    if (!cart.querySelector('.notification')) {\r\n        notification = document.createElement('div');\r\n        notification.className = 'notification';\r\n        notification.textContent = quantityValue;\r\n        cart.append(notification);\r\n    }\r\n    else notification.innerHTML = `${quantityValue}`;\r\n\r\n    cartEmpty.hidden = true;\r\n    cartEmpty.style.display = 'none';\r\n    cartMain.hidden = false;\r\n    cartMain.style.display = 'flex';\r\n\r\n    if (insertSpan) {\r\n        insertSpan.remove();\r\n        insertSpan = null;\r\n    } \r\n\r\n    insertSpan = document.createElement('span');\r\n    insertSpan.className = 'cart-info__price-sum';\r\n    priceText.append(insertSpan);\r\n\r\n    insertSpan.innerHTML = ` ${quantityValue} = &dollar;${price * quantityValue}`;\r\n}\r\n\r\nconsole.log(cart.getAttribute('aria-expanded'));\r\nfunction cartClick() {\r\n    console.log(cart.getAttribute('aria-expanded'));\r\n    //cart info visibility\r\n    let isVisible = cartInfo.style.visibility === 'visible';\r\n\r\n    if (isVisible) {\r\n        cartInfo.style.visibility = 'hidden';\r\n        cart.removeAttribute('aria-expanded');\r\n    } else {\r\n        cartInfo.style.visibility = 'visible';\r\n        cart.setAttribute('aria-expanded', 'true');\r\n    }\r\n    console.log(cart);\r\n}\r\n\r\n\r\nfunction deleteProducts() {\r\n    cartMain.hidden = true;\r\n    cartMain.style.display = 'none';\r\n    cartEmpty.hidden = false;\r\n    cartEmpty.style.display = 'flex';\r\n\r\n    notification.remove();\r\n    notification = null;\r\n}"]}